<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>تعريف السمسرة</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap");

      body,
      html {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        font-family: "Tajawal", Arial, sans-serif;
        background-color: #121212;
        color: #e0e0e0;
        overflow: hidden;
      }
      .presentation {
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        overflow: hidden;
        position: relative;
        perspective: 1000px;
        background: radial-gradient(circle at center, #2c3e50, #1a1a1a);
      }
      .slides-container {
        display: flex;
        padding: 0 5%;
        transform-style: preserve-3d;
        transition: transform 0.5s ease;
      }
      .slide {
        flex: 0 0 auto;
        width: 80vw;
        height: 70vh;
        background-color: rgba(255, 255, 255, 0.05);
        border-radius: 15px;
        padding: 40px;
        box-sizing: border-box;
        cursor: pointer;
        transition: all 0.5s ease;
        transform-origin: center center -500px;
        position: relative;
        z-index: 1;
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        overflow: hidden;
        margin-right: 10vw;
      }
      .slide h1,
      .slide h2 {
        margin-bottom: 20px;
        font-size: 2.5em;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        color: #ffd700;
      }
      .slide p,
      .slide ul,
      .slide ol {
        font-size: 1.2em;
        margin: 10px 0;
      }
      .navigation-dots {
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        gap: 10px;
        z-index: 101;
      }
      .dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background-color: rgba(255, 215, 0, 0.3);
        cursor: pointer;
        transition: all 0.3s ease;
      }
      .dot.active {
        background-color: #ffd700;
        transform: scale(1.2);
      }
      .business-icon {
        position: absolute;
        opacity: 0.1;
        transition: all 0.5s ease;
      }
      .network-dot {
        position: absolute;
        width: 4px;
        height: 4px;
        background-color: rgba(255, 255, 255, 0.5);
        border-radius: 50%;
      }
      .network-line {
        position: absolute;
        height: 1px;
        background-color: rgba(255, 255, 255, 0.2);
        transform-origin: 0 50%;
      }

      .financial-symbol {
        position: absolute;
        font-size: 15px;
        opacity: 0;
        animation: float 10s infinite;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-20px);
        }
      }
      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
      }

      @keyframes float {
        0%,
        100% {
          transform: translate(0, 0);
          opacity: 0;
        }
        25% {
          opacity: 1;
        }
        75% {
          opacity: 1;
        }
        50% {
          transform: translate(var(--tx), var(--ty));
        }
      }
    </style>
  </head>
  <body>
    <div class="presentation">
      <div class="background-animations">
        <!-- Stock charts, financial symbols, and network will be added here by JavaScript -->
      </div>
      <div class="slides-container">
        <div class="slide">
          <h1>المطلب الأول</h1>
          <h2>تعريف السمسرة</h2>
        </div>
        <div class="slide">
          <h2>الفرع الأول: التعريف اللغوي للسمسرة</h2>
          <p>
            السمسرة، والسّمسار، والجمع سماسرة، والمصدر سمسر، كلمة فارسية معرّبة،
            استعملت في الجاهلية تعبيراً عن مهنة السمسار.
          </p>
          <p>السمسار هو: الذي يتوسط بين البائع والمشتري لإمضاء البيع.</p>
          <ul>
            <li>الذي يبيع البُر للناس</li>
            <li>القيّم على الشيء</li>
            <li>السفير بين المحبّين</li>
          </ul>
        </div>
        <div class="slide">
          <h2>الفرع الأول: التعريف اللغوي للسمسرة</h2>
          <p>
            السمسرة، والسّمسار، والجمع سماسرة، والمصدر سمسر، كلمة فارسية معرّبة،
            استعملت في الجاهلية تعبيراً عن مهنة السمسار.
          </p>
          <p>السمسار هو: الذي يتوسط بين البائع والمشتري لإمضاء البيع.</p>
          <ul>
            <li>الذي يبيع البُر للناس</li>
            <li>القيّم على الشيء</li>
            <li>السفير بين المحبّين</li>
          </ul>
        </div>
        <div class="slide">
          <h2>الفرع الأول: التعريف اللغوي للسمسرة</h2>
          <p>
            السمسرة، والسّمسار، والجمع سماسرة، والمصدر سمسر، كلمة فارسية معرّبة،
            استعملت في الجاهلية تعبيراً عن مهنة السمسار.
          </p>
          <p>السمسار هو: الذي يتوسط بين البائع والمشتري لإمضاء البيع.</p>
          <ul>
            <li>الذي يبيع البُر للناس</li>
            <li>القيّم على الشيء</li>
            <li>السفير بين المحبّين</li>
          </ul>
        </div>
        <div class="slide">
          <h2>الفرع الأول: التعريف اللغوي للسمسرة</h2>
          <p>
            السمسرة، والسّمسار، والجمع سماسرة، والمصدر سمسر، كلمة فارسية معرّبة،
            استعملت في الجاهلية تعبيراً عن مهنة السمسار.
          </p>
          <p>السمسار هو: الذي يتوسط بين البائع والمشتري لإمضاء البيع.</p>
          <ul>
            <li>الذي يبيع البُر للناس</li>
            <li>القيّم على الشيء</li>
            <li>السفير بين المحبّين</li>
          </ul>
        </div>
      </div>
    </div>
    <div class="navigation-dots"></div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const presentation = document.querySelector(".presentation");
        const slidesContainer = document.querySelector(".slides-container");
        const slides = Array.from(document.querySelectorAll(".slide"));
        const dotsContainer = document.querySelector(".navigation-dots");
        let currentSlide = 0;
        let isZoomed = false;

        // Create navigation dots
        slides.forEach((_, index) => {
          const dot = document.createElement("div");
          dot.classList.add("dot");
          dot.addEventListener("click", () => scrollToSlide(index));
          dotsContainer.appendChild(dot);
        });

        document.querySelectorAll(".dot").forEach((dot, index) => {
          index % 2 !== 0
            ? (dot.style.display = "none")
            : (dot.style.display = "block");
        });

        function updateDots() {
          if (currentSlide % 2 === 0) {
            document.querySelectorAll(".dot").forEach((dot, index) => {
              dot.classList.toggle("active", index === currentSlide);
            });
          }
        }

        function scrollToSlide(index) {
          currentSlide = index;
          const slideWidth =
            slides[0].offsetWidth +
            parseFloat(getComputedStyle(slides[0]).marginRight);
          slidesContainer.style.transform = `translateX(${
            index * slideWidth
          }px) translateZ(-1300px)`;
          updateDots();
        }

        function animateIcons() {
          const icons = document.querySelectorAll(".business-icon");
          icons.forEach((icon, index) => {
            icon.style.animation =
              index % 2 === 0
                ? "float 3s ease-in-out infinite"
                : "pulse 3s ease-in-out infinite";
          });
        }

        function zoomSlide() {
          if (!isZoomed) {
            isZoomed = true;
            slidesContainer.style.transform += " translateZ(1300px)";
          } else {
            isZoomed = false;
            scrollToSlide(currentSlide);
          }
        }

        slides.forEach((slide, index) => {
          slide.addEventListener("click", () => {
            if (index === currentSlide) {
              zoomSlide();
            } else {
              scrollToSlide(index);
            }
          });
        });

        // Handle keyboard navigation
        document.addEventListener("keydown", (e) => {
          if (isZoomed && e.key === "Escape") {
            zoomSlide();
          } else if (!isZoomed) {
            if (e.key === "ArrowLeft") {
              scrollToSlide(Math.min(slides.length - 1, currentSlide + 1));
            } else if (e.key === "ArrowRight") {
              scrollToSlide(Math.max(0, currentSlide - 1));
            }
          }
        });

        // Initial setup
        scrollToSlide(0);
        animateIcons();

        const backgroundAnimations = document.querySelector(
          ".background-animations"
        );

        // Create financial symbols
        const keywords = [
          "السمسرة",
          "الأسهم",
          "تعاريف",
          "أسواق الأسهم",
          "أسواق الأولية",
          "أسواق الثانوية",
        ];
        for (let i = 0; i < 10; i++) {
          const symbol = document.createElement("div");
          symbol.classList.add("financial-symbol");
          symbol.textContent =
            keywords[Math.floor(Math.random() * keywords.length)];
          symbol.style.left = `${Math.random() * 100}%`;
          symbol.style.top = `${Math.random() * 100}%`;
          symbol.style.setProperty("--tx", `${(Math.random() - 0.5) * 100}px`);
          symbol.style.setProperty("--ty", `${(Math.random() - 0.5) * 100}px`);
          backgroundAnimations.appendChild(symbol);
        }

        // Create network effect
        const network = document.createElement("div");
        network.classList.add("network");
        backgroundAnimations.appendChild(network);

        const dotCount = 25;
        const dots = [];

        for (let i = 0; i < dotCount; i++) {
          const dot = document.createElement("div");
          dot.classList.add("network-dot");
          dot.style.left = `${Math.random() * 100}%`;
          dot.style.top = `${Math.random() * 100}%`;
          network.appendChild(dot);
          dots.push(dot);
        }

        const lines = [];
        for (let i = 0; i < dotCount; i++) {
          for (let j = i + 1; j < dotCount; j++) {
            if (Math.random() < 0.3) {
              const line = document.createElement("div");
              line.classList.add("network-line");
              network.appendChild(line);
              lines.push({ line, start: dots[i], end: dots[j] });
            }
          }
        }

        function updateNetworkLines() {
          lines.forEach(({ line, start, end }) => {
            const rect1 = start.getBoundingClientRect();
            const rect2 = end.getBoundingClientRect();
            const angle = Math.atan2(
              rect2.top - rect1.top,
              rect2.left - rect1.left
            );
            const length = Math.hypot(
              rect2.top - rect1.top,
              rect2.left - rect1.left
            );

            line.style.left = `${rect1.left + rect1.width / 2}px`;
            line.style.top = `${rect1.top + rect1.height / 2}px`;
            line.style.width = `${length}px`;
            line.style.transform = `rotate(${angle}rad)`;
          });
        }

        // Initial update of network lines
        updateNetworkLines();

        // Add window resize event listener to update network lines
        window.addEventListener("resize", updateNetworkLines);
      });
    </script>
  </body>
</html>
